<div class="container py-3">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3>Courses</h3>
    <div>
      <button class="btn btn-primary" (click)="addCourse()">+ Add course</button>
    </div>
  </div>

  @if (loading()) {
    <div class="text-center py-5">
      <div class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></div>
    </div>
  }

  @if (!loading()) {
    <table class="table table-striped table-hover">
      <thead class="table-light">
        <tr>
          <th>Title</th>
          <th>Price</th>
          <th>Published</th>
          <th>Created</th>
          <th style="width:220px">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let c of courses">
          <td>{{ c.title }}</td>
          <td>{{ c.price | currency:c.currency }}</td>
          <td>
            <span class="badge" [ngClass]="c.is_published ? 'bg-success' : 'bg-secondary'">
              {{ c.is_published ? 'Yes' : 'No' }}
            </span>
          </td>
          <td>{{ c.created_at | date:'short' }}</td>
          <td>
            <button class="btn btn-sm btn-outline-primary me-2" (click)="view(c)">Open</button>
            <button class="btn btn-sm btn-outline-secondary me-2" (click)="edit(c)">Edit</button>
            <button class="btn btn-sm btn-outline-danger" (click)="deleteCourse(c)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  }
</div>
